// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using OpenCredentialPublisher.Data.Custom.Contexts;

#nullable disable

namespace OpenCredentialPublisher.Data.Custom.Migrations
{
    [DbContext(typeof(WalletDbContext))]
    [Migration("20240719021920_CredentialCollectionUpdate")]
    partial class CredentialCollectionUpdate
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.6")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRole", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("NormalizedName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.HasKey("Id");

                    b.HasIndex("NormalizedName")
                        .IsUnique()
                        .HasDatabaseName("RoleNameIndex")
                        .HasFilter("[NormalizedName] IS NOT NULL");

                    b.ToTable("AspNetRoles", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<string>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("ClaimType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RoleId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetRoleClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("ClaimType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<string>", b =>
                {
                    b.Property<string>("LoginProvider")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ProviderKey")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ProviderDisplayName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("LoginProvider", "ProviderKey");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserLogins", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<string>", b =>
                {
                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("RoleId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("UserId", "RoleId");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetUserRoles", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<string>", b =>
                {
                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("LoginProvider")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("UserId", "LoginProvider", "Name");

                    b.ToTable("AspNetUserTokens", (string)null);
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.Models.Commerce.CommerceAddress", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("AddressCity")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("AddressCountry")
                        .IsRequired()
                        .HasMaxLength(2)
                        .HasColumnType("nvarchar(2)");

                    b.Property<string>("AddressEmail")
                        .HasMaxLength(254)
                        .HasColumnType("nvarchar(254)");

                    b.Property<string>("AddressFirstName")
                        .IsRequired()
                        .HasMaxLength(96)
                        .HasColumnType("nvarchar(96)");

                    b.Property<string>("AddressLastName")
                        .IsRequired()
                        .HasMaxLength(96)
                        .HasColumnType("nvarchar(96)");

                    b.Property<string>("AddressLine1")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("AddressLine2")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("AddressPhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<string>("AddressPostalCode")
                        .HasMaxLength(9)
                        .HasColumnType("nvarchar(9)");

                    b.Property<string>("AddressState")
                        .HasMaxLength(2)
                        .HasColumnType("nvarchar(2)");

                    b.Property<string>("AdressCompany")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("CommerceAddresses");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.Models.Commerce.CommerceTransaction", b =>
                {
                    b.Property<int>("TransactionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("TransactionId"));

                    b.Property<decimal>("Amount")
                        .HasColumnType("money");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDebit")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("TransactionDate")
                        .HasColumnType("datetime2");

                    b.Property<int>("TransactionTypeId")
                        .HasColumnType("int");

                    b.Property<string>("UniqueId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("VisibleOnLedger")
                        .HasColumnType("bit");

                    b.HasKey("TransactionId");

                    b.ToTable("CommerceTransactions");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.Models.CredentialOffer", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("ClrId")
                        .HasColumnType("int");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<int?>("CredentialDefinitionId")
                        .HasColumnType("int");

                    b.Property<int?>("CredentialSchemaId")
                        .HasColumnType("int");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset?>("ModifiedOn")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("OfferContents")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OfferId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OfferPayload")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("QrCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ShareRequestId")
                        .HasColumnType("int");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ClrId");

                    b.HasIndex("CredentialDefinitionId");

                    b.HasIndex("CredentialSchemaId");

                    b.HasIndex("ShareRequestId");

                    b.ToTable("CredentialOffers");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.Models.ShareRequest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("CommonId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<int>("CredentialPackageId")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("CredentialPackageId");

                    b.HasIndex("UserId");

                    b.ToTable("ShareRequests");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.Achievement", b =>
                {
                    b.Property<long>("AchievementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("AchievementId"));

                    b.Property<string>("AchievementType")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("nvarchar(max)")
                        .HasDefaultValue("Unspecified");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<long?>("CreatorProfileId")
                        .HasColumnType("bigint");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("FieldOfStudy")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ImageUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("LicenseNumber")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<long?>("SourceProfileId")
                        .HasColumnType("bigint");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<long>("VerifiableCredentialId")
                        .HasColumnType("bigint");

                    b.HasKey("AchievementId");

                    b.HasAlternateKey("Id");

                    b.HasIndex("CreatorProfileId");

                    b.HasIndex("SourceProfileId");

                    b.HasIndex("VerifiableCredentialId")
                        .IsUnique();

                    b.ToTable("Achievement", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.AchievementAlignment", b =>
                {
                    b.Property<long>("AchievementAlignmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("AchievementAlignmentId"));

                    b.Property<long>("AchievementId")
                        .HasColumnType("bigint");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("TargetCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TargetDescription")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TargetFramework")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TargetName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TargetType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TargetUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("AchievementAlignmentId");

                    b.HasIndex("AchievementId");

                    b.ToTable("AchievementAlignment", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.AchievementIdentity", b =>
                {
                    b.Property<long>("AchievementIdentityId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("AchievementIdentityId"));

                    b.Property<long>("AchievementId")
                        .HasColumnType("bigint");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<string>("EmailAddress")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("AchievementIdentityId");

                    b.HasIndex("AchievementId")
                        .IsUnique();

                    b.ToTable("AchievementIdentity", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialCollection", b =>
                {
                    b.Property<long>("CredentialCollectionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("CredentialCollectionId"));

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasMaxLength(450)
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("CredentialCollectionId");

                    b.HasIndex("UserId");

                    b.ToTable("CredentialCollection", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialCollectionVerifiableCredential", b =>
                {
                    b.Property<long>("CredentialCollectionId")
                        .HasColumnType("bigint");

                    b.Property<long>("VerifiableCredentialId")
                        .HasColumnType("bigint");

                    b.Property<DateTime>("AddedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.HasKey("CredentialCollectionId", "VerifiableCredentialId");

                    b.HasIndex("VerifiableCredentialId");

                    b.ToTable("CredentialCollectionVerifiableCredential", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialPackage", b =>
                {
                    b.Property<long>("CredentialPackageId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("CredentialPackageId"));

                    b.Property<int>("AchievementCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasMaxLength(450)
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("CredentialPackageId");

                    b.HasAlternateKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("CredentialPackage", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.Notification", b =>
                {
                    b.Property<long>("NotificationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("NotificationId"));

                    b.Property<int>("AchievementCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("IssuerImageUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("IssuerName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasMaxLength(450)
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("NotificationId");

                    b.HasIndex("UserId");

                    b.ToTable("Notification", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.Profile", b =>
                {
                    b.Property<long>("ProfileId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("ProfileId"));

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ImageUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Url")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("ProfileId");

                    b.HasAlternateKey("Id");

                    b.ToTable("Profile", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialCollection", b =>
                {
                    b.Property<long>("CredentialCollectionId")
                        .HasColumnType("bigint");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OwnerUserId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ShareCount")
                        .HasColumnType("int");

                    b.HasKey("CredentialCollectionId");

                    b.ToTable((string)null);

                    b.ToView("SearchCredentialCollectionView", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackage", b =>
                {
                    b.Property<long>("CredentialPackageId")
                        .HasColumnType("bigint");

                    b.Property<int>("AchievementCount")
                        .HasColumnType("int");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<DateTimeOffset>("EffectiveAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<DateTimeOffset?>("ExpiresAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("IssuerImageUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("IssuerName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OwnerUserId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ShareCount")
                        .HasColumnType("int");

                    b.HasKey("CredentialPackageId");

                    b.ToTable((string)null);

                    b.ToView("SearchCredentialPackageView", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackageAchievementType", b =>
                {
                    b.Property<long>("CredentialPackageId")
                        .HasColumnType("bigint");

                    b.Property<string>("AchievementType")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("CredentialPackageId");

                    b.ToTable((string)null);

                    b.ToView("SearchCredentialPackageAchievementTypeView", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackageIssuer", b =>
                {
                    b.Property<long>("CredentialPackageId")
                        .HasColumnType("bigint");

                    b.Property<DateTimeOffset>("EffectiveAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<int>("EffectiveAtYear")
                        .HasColumnType("int");

                    b.Property<string>("IssuerName")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("CredentialPackageId");

                    b.ToTable((string)null);

                    b.ToView("SearchCredentialPackageIssuerView", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.VerifiableCredential", b =>
                {
                    b.Property<long>("VerifiableCredentialId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("VerifiableCredentialId"));

                    b.Property<DateTimeOffset?>("AwardedDate")
                        .HasColumnType("datetimeoffset");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<long>("CredentialPackageId")
                        .HasColumnType("bigint");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<long>("IssuerProfileId")
                        .HasColumnType("bigint");

                    b.Property<string>("Json")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset?>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<long?>("ParentVerifiableCredentialId")
                        .HasColumnType("bigint");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset>("ValidFromDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetimeoffset")
                        .HasDefaultValueSql("SYSDATETIMEOFFSET()");

                    b.Property<DateTimeOffset?>("ValidUntilDate")
                        .HasColumnType("datetimeoffset");

                    b.HasKey("VerifiableCredentialId");

                    b.HasAlternateKey("Id");

                    b.HasIndex("CredentialPackageId");

                    b.HasIndex("IssuerProfileId");

                    b.HasIndex("ParentVerifiableCredentialId");

                    b.ToTable("VerifiableCredential", "cred2");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AchievementModel", b =>
                {
                    b.Property<int>("AchievementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AchievementId"));

                    b.Property<string>("AchievementType")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "achievementType");

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<float?>("CreditsAvailable")
                        .HasColumnType("real")
                        .HasAnnotation("Relational:JsonPropertyName", "creditsAvailable");

                    b.Property<int?>("CriteriaId")
                        .HasColumnType("int");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "description");

                    b.Property<string>("FieldOfStudy")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "fieldOfStudy");

                    b.Property<string>("HumanCode")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "humanCode");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<string>("Identifiers")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Image")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "image");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int?>("IssuerProfileId")
                        .HasColumnType("int");

                    b.Property<string>("Level")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "level");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<string>("Specialization")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "specialization");

                    b.Property<string>("Tags")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "tags");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("AchievementId");

                    b.HasIndex("CriteriaId")
                        .IsUnique()
                        .HasFilter("[CriteriaId] IS NOT NULL");

                    b.HasIndex("IssuerProfileId");

                    b.ToTable("Achievements", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AgentContextModel", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier")
                        .HasAnnotation("Relational:JsonPropertyName", "walletName");

                    b.Property<bool>("Active")
                        .HasColumnType("bit");

                    b.Property<string>("AgentName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ApiKey")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "apiKey");

                    b.Property<string>("ContextJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("DomainDid")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "domainDID");

                    b.Property<string>("EndpointUrl")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "endpointUrl");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("IssuerDid")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IssuerRegistered")
                        .HasColumnType("bit");

                    b.Property<string>("IssuerVerKey")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Network")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ProvisioningTokenId")
                        .HasColumnType("int");

                    b.Property<string>("SdkVerKey")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "sdkVerKey");

                    b.Property<string>("SdkVerKeyId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "sdkVerKeyId");

                    b.Property<string>("ThreadId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TokenHash")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("VerityAgentVerKey")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "verityAgentVerKey");

                    b.Property<string>("VerityPublicDid")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "verityPublicDID");

                    b.Property<string>("VerityPublicVerKey")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "verityPublicVerKey");

                    b.Property<string>("VerityUrl")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "verityUrl");

                    b.Property<string>("Version")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "version");

                    b.Property<string>("WalletKey")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "walletKey");

                    b.Property<string>("WalletPath")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "walletPath");

                    b.HasKey("Id");

                    b.ToTable("AgentContexts");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ApplicationUser", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("AccessFailedCount")
                        .HasColumnType("int");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("DisplayName")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("Email")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<bool>("EmailConfirmed")
                        .HasColumnType("bit");

                    b.Property<bool>("LockoutEnabled")
                        .HasColumnType("bit");

                    b.Property<DateTimeOffset?>("LockoutEnd")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("NormalizedEmail")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("NormalizedUserName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("PasswordHash")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("PhoneNumber")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("PhoneNumberConfirmed")
                        .HasColumnType("bit");

                    b.Property<string>("ProfileImageUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SecurityStamp")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("TwoFactorEnabled")
                        .HasColumnType("bit");

                    b.Property<string>("UserName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.HasKey("Id");

                    b.HasIndex("NormalizedEmail")
                        .HasDatabaseName("EmailIndex");

                    b.HasIndex("NormalizedUserName")
                        .IsUnique()
                        .HasDatabaseName("UserNameIndex")
                        .HasFilter("[NormalizedUserName] IS NOT NULL");

                    b.ToTable("AspNetUsers", (string)null);
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ArtifactModel", b =>
                {
                    b.Property<int>("ArtifactId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ArtifactId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<string>("AssertionId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ClrId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ClrIssuedOn")
                        .HasColumnType("datetime2");

                    b.Property<string>("ClrName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "description");

                    b.Property<string>("EvidenceName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<bool>("IsPdf")
                        .HasColumnType("bit");

                    b.Property<bool>("IsUrl")
                        .HasColumnType("bit");

                    b.Property<string>("MediaType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<bool>("NameContainsTranscript")
                        .HasColumnType("bit");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<string>("Url")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "url");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("ArtifactId");

                    b.HasIndex("ClrId");

                    b.HasIndex("UserId");

                    b.ToTable("Artifacts", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AssertionModel", b =>
                {
                    b.Property<int>("AssertionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AssertionId"));

                    b.Property<int?>("AchievementId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ActivityEndDate")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "activityEndDate");

                    b.Property<DateTime?>("ActivityStartDate")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "activityStartDate");

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<string>("Context")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<float?>("CreditsEarned")
                        .HasColumnType("real")
                        .HasAnnotation("Relational:JsonPropertyName", "creditsEarned");

                    b.Property<string>("DisplayName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("Expires")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "expires");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<string>("Image")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "image");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<bool>("IsSelfPublished")
                        .HasColumnType("bit");

                    b.Property<bool>("IsSigned")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("IssuedOn")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "issuedOn");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("LicenseNumber")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "licenseNumber");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Narrative")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "narrative");

                    b.Property<int?>("ParentAssertionId")
                        .HasColumnType("int");

                    b.Property<int?>("RecipientId")
                        .HasColumnType("int");

                    b.Property<string>("RevocationReason")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "revocationReason");

                    b.Property<bool?>("Revoked")
                        .HasColumnType("bit")
                        .HasAnnotation("Relational:JsonPropertyName", "revoked");

                    b.Property<string>("Role")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "role");

                    b.Property<string>("SignedAssertion")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "signedAssertion");

                    b.Property<string>("SignedEndorsements")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "signedEndorsements");

                    b.Property<int?>("SourceId")
                        .HasColumnType("int");

                    b.Property<string>("Term")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "term");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<int?>("VerificationId")
                        .HasColumnType("int");

                    b.HasKey("AssertionId");

                    b.HasIndex("AchievementId")
                        .IsUnique()
                        .HasFilter("[AchievementId] IS NOT NULL");

                    b.HasIndex("ParentAssertionId");

                    b.HasIndex("RecipientId")
                        .IsUnique()
                        .HasFilter("[RecipientId] IS NOT NULL");

                    b.HasIndex("SourceId");

                    b.HasIndex("VerificationId")
                        .IsUnique()
                        .HasFilter("[VerificationId] IS NOT NULL");

                    b.ToTable("Assertions", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AuthorizationModel", b =>
                {
                    b.Property<string>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("AccessToken")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("AuthorizationCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("CodeVerifier")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Endpoint")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Method")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Payload")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RefreshToken")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Scopes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("SourceForeignKey")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTime>("ValidTo")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("SourceForeignKey");

                    b.HasIndex("UserId");

                    b.ToTable("Authorizations");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Badgr.BadgrAssertionModel", b =>
                {
                    b.Property<int>("BadgrAssertionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("BadgrAssertionId"));

                    b.Property<string>("Acceptance")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "acceptance");

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("BadgeClassJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("BadgeClassOpenBadgeId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "badgeclassOpenBadgeId");

                    b.Property<string>("BadgeJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Badgeclass")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "badgeclass");

                    b.Property<int>("BadgrBackpackId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("Expires")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "expires");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "entityId");

                    b.Property<string>("Image")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ImageObjectId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("InternalIdentifier")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "_id");

                    b.Property<bool>("IsBadgr")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<bool>("IsValidJson")
                        .HasColumnType("bit");

                    b.Property<string>("IssueStatus")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "issue_status");

                    b.Property<DateTime?>("IssuedOn")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "issuedOn");

                    b.Property<string>("Issuer")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "issuer");

                    b.Property<string>("IssuerJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("IssuerOpenBadgeId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "issuerOpenBadgeId");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Narrative")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "narrative");

                    b.Property<string>("OpenBadgeId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "openBadgeId");

                    b.Property<bool>("Pending")
                        .HasColumnType("bit")
                        .HasAnnotation("Relational:JsonPropertyName", "pending");

                    b.Property<string>("RecipientJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RevocationReason")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "revocationReason");

                    b.Property<bool?>("Revoked")
                        .HasColumnType("bit")
                        .HasAnnotation("Relational:JsonPropertyName", "revoked");

                    b.Property<string>("SignedAssertion")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "signedAssertion");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "entityType");

                    b.Property<string>("ValidationStatus")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "validation_status");

                    b.HasKey("BadgrAssertionId");

                    b.HasIndex("BadgrBackpackId");

                    b.HasIndex("ImageObjectId");

                    b.ToTable("BadgrAssertions", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Badgr.BadgrBackpackModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("AssertionsCount")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Identifier")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsBadgr")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime>("IssuedOn")
                        .HasColumnType("datetime2");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ParentCredentialPackageId")
                        .HasColumnType("int");

                    b.Property<string>("Provider")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RevocationReason")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("Revoked")
                        .HasColumnType("bit");

                    b.HasKey("Id");

                    b.HasIndex("ParentCredentialPackageId")
                        .IsUnique();

                    b.ToTable("BadgrBackpacks", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Badgr.BadgrImageDType", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<string>("Caption")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "caption");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("Id");

                    b.ToTable("BadgrImageDType");

                    b.HasAnnotation("Relational:JsonPropertyName", "image");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CertificateModel", b =>
                {
                    b.Property<string>("Host")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("IssuedByName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("IssuedToName")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Host");

                    b.ToTable("Certificates");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.AlignmentModel", b =>
                {
                    b.Property<int>("AlignmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AlignmentId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("EducationalFramework")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "educationalFramework");

                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("TargetCode")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "targetCode");

                    b.Property<string>("TargetDescription")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "targetDescription");

                    b.Property<string>("TargetName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "targetName");

                    b.Property<string>("TargetType")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "targetType");

                    b.Property<string>("TargetUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "targetUrl");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("AlignmentId");

                    b.ToTable("Alignments", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.AssociationModel", b =>
                {
                    b.Property<int>("AssociationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AssociationId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<int>("AssociationType")
                        .HasColumnType("int")
                        .HasAnnotation("Relational:JsonPropertyName", "associationType");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("TargetId")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "targetId");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "title");

                    b.HasKey("AssociationId");

                    b.ToTable("Associations", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.CriteriaModel", b =>
                {
                    b.Property<int>("CriteriaId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("CriteriaId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Narrative")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "narrative");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("CriteriaId");

                    b.ToTable("Criteria", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.EndorsementClaimModel", b =>
                {
                    b.Property<int>("EndorsementClaimId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("EndorsementClaimId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("EndorsementComment")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "endorsementComment");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("EndorsementClaimId");

                    b.ToTable("EndorsementClaims", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.IdentityModel", b =>
                {
                    b.Property<int>("IdentityId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("IdentityId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("Hashed")
                        .HasColumnType("bit")
                        .HasAnnotation("Relational:JsonPropertyName", "hashed");

                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<string>("Identity")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "identity");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Salt")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "salt");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("IdentityId");

                    b.ToTable("Identities", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", b =>
                {
                    b.Property<int>("ProfileId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ProfileId"));

                    b.Property<string>("AdditionalName")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalName");

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime?>("BirthDate")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "birthDate");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "description");

                    b.Property<string>("Email")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "email");

                    b.Property<string>("FamilyName")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "familyName");

                    b.Property<string>("GivenName")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "givenName");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<string>("Identifiers")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "identifiers");

                    b.Property<string>("Image")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "image");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<bool>("IsEndorsementProfile")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<string>("Official")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "official");

                    b.Property<int?>("ParentProfileId")
                        .HasColumnType("int");

                    b.Property<string>("PublicKey")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "publicKey");

                    b.Property<string>("RevocationList")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "revocationList");

                    b.Property<string>("SourcedId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "sourcedId");

                    b.Property<string>("StudentId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "studentId");

                    b.Property<string>("Telephone")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "telephone");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<string>("Url")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "url");

                    b.Property<int?>("VerificationId")
                        .HasColumnType("int");

                    b.HasKey("ProfileId");

                    b.HasIndex("ParentProfileId");

                    b.HasIndex("VerificationId")
                        .IsUnique()
                        .HasFilter("[VerificationId] IS NOT NULL");

                    b.ToTable("Profiles", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementAlignment", b =>
                {
                    b.Property<int>("AchievementAlignmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AchievementAlignmentId"));

                    b.Property<int>("AchievementId")
                        .HasColumnType("int");

                    b.Property<int>("AlignmentId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("AchievementAlignmentId");

                    b.HasIndex("AchievementId");

                    b.HasIndex("AlignmentId")
                        .IsUnique();

                    b.ToTable("AchievementAlignments", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementAssociation", b =>
                {
                    b.Property<int>("AchievementAssociationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AchievementAssociationId"));

                    b.Property<int>("AchievementId")
                        .HasColumnType("int");

                    b.Property<int>("AssociationId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("AchievementAssociationId");

                    b.HasIndex("AchievementId");

                    b.HasIndex("AssociationId")
                        .IsUnique();

                    b.ToTable("AchievementAssociations", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementEndorsement", b =>
                {
                    b.Property<int>("AchievementEndorsementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AchievementEndorsementId"));

                    b.Property<int>("AchievementId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("EndorsementId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("AchievementEndorsementId");

                    b.HasIndex("AchievementId");

                    b.HasIndex("EndorsementId")
                        .IsUnique();

                    b.ToTable("AchievementEndorsements", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AssertionEndorsement", b =>
                {
                    b.Property<int>("AssertionEndorsementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AssertionEndorsementId"));

                    b.Property<int>("AssertionId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("EndorsementId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("AssertionEndorsementId");

                    b.HasIndex("AssertionId");

                    b.HasIndex("EndorsementId")
                        .IsUnique();

                    b.ToTable("AssertionEndorsements", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AssertionEvidence", b =>
                {
                    b.Property<int>("AssertionEvidenceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AssertionEvidenceId"));

                    b.Property<int>("AssertionId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("EvidenceId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("AssertionEvidenceId");

                    b.HasIndex("AssertionId");

                    b.HasIndex("EvidenceId")
                        .IsUnique();

                    b.ToTable("AssertionEvidence", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrAchievement", b =>
                {
                    b.Property<int>("ClrAchievementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ClrAchievementId"));

                    b.Property<int>("AchievementId")
                        .HasColumnType("int");

                    b.Property<int>("ClrId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("ClrAchievementId");

                    b.HasIndex("AchievementId")
                        .IsUnique();

                    b.HasIndex("ClrId");

                    b.ToTable("ClrAchievements", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrAssertion", b =>
                {
                    b.Property<int>("ClrAssertionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ClrAssertionId"));

                    b.Property<int>("AssertionId")
                        .HasColumnType("int");

                    b.Property<int>("ClrId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("ClrAssertionId");

                    b.HasIndex("AssertionId")
                        .IsUnique();

                    b.HasIndex("ClrId");

                    b.ToTable("ClrAssertions", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrEndorsement", b =>
                {
                    b.Property<int>("ClrEndorsementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ClrEndorsementId"));

                    b.Property<int>("ClrId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("EndorsementId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("ClrEndorsementId");

                    b.HasIndex("ClrId");

                    b.HasIndex("EndorsementId")
                        .IsUnique();

                    b.ToTable("ClrEndorsements", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.EvidenceArtifact", b =>
                {
                    b.Property<int>("EvidenceArtifactId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("EvidenceArtifactId"));

                    b.Property<int>("ArtifactId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("EvidenceId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("EvidenceArtifactId");

                    b.HasIndex("ArtifactId")
                        .IsUnique();

                    b.HasIndex("EvidenceId");

                    b.ToTable("EvidenceArtifacts", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ProfileEndorsement", b =>
                {
                    b.Property<int>("ProfileEndorsementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ProfileEndorsementId"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("EndorsementId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<int>("ProfileId")
                        .HasColumnType("int");

                    b.HasKey("ProfileEndorsementId");

                    b.HasIndex("EndorsementId")
                        .IsUnique();

                    b.HasIndex("ProfileId");

                    b.ToTable("ProfileEndorsements", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ResultAlignment", b =>
                {
                    b.Property<int>("ResultAlignmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ResultAlignmentId"));

                    b.Property<int>("AlignmentId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<int>("ResultId")
                        .HasColumnType("int");

                    b.HasKey("ResultAlignmentId");

                    b.HasIndex("AlignmentId")
                        .IsUnique();

                    b.HasIndex("ResultId");

                    b.ToTable("ResultAlignments", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ResultDescriptionAlignment", b =>
                {
                    b.Property<int>("ResultDescriptionAlignmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ResultDescriptionAlignmentId"));

                    b.Property<int>("AlignmentId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<int>("ResultDescriptionId")
                        .HasColumnType("int");

                    b.HasKey("ResultDescriptionAlignmentId");

                    b.HasIndex("AlignmentId")
                        .IsUnique();

                    b.HasIndex("ResultDescriptionId");

                    b.ToTable("ResultDescriptionAlignments", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.RubricCriterionLevelAlignment", b =>
                {
                    b.Property<int>("RubricCriterionLevelAlignmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RubricCriterionLevelAlignmentId"));

                    b.Property<int>("AlignmentId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<int>("RubricCriterionLevelId")
                        .HasColumnType("int");

                    b.HasKey("RubricCriterionLevelAlignmentId");

                    b.HasIndex("AlignmentId")
                        .IsUnique();

                    b.HasIndex("RubricCriterionLevelId");

                    b.ToTable("RubricCriterionLevelAlignments", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ResultDescriptionModel", b =>
                {
                    b.Property<int>("ResultDescriptionId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ResultDescriptionId"));

                    b.Property<int>("AchievementId")
                        .HasColumnType("int");

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<string>("AllowedValues")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "allowedValues");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<string>("RequiredLevel")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "requiredLevel");

                    b.Property<string>("RequiredValue")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "requiredValue");

                    b.Property<string>("ResultType")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "resultType");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<string>("ValueMax")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "valueMax");

                    b.Property<string>("ValueMin")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "valueMin");

                    b.HasKey("ResultDescriptionId");

                    b.HasIndex("AchievementId");

                    b.ToTable("ResultDescriptions", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ResultModel", b =>
                {
                    b.Property<int>("ResultId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ResultId"));

                    b.Property<string>("AchievedLevel")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "achievedLevel");

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<int>("AssertionId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<string>("ResultDescription")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "resultDescription");

                    b.Property<string>("Status")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "status");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "value");

                    b.HasKey("ResultId");

                    b.HasIndex("AssertionId");

                    b.ToTable("Results", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.RubricCriterionLevelModel", b =>
                {
                    b.Property<int>("RubricCriterionLevelId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("RubricCriterionLevelId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "description");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Level")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "level");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<string>("Points")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "points");

                    b.Property<int>("ResultDescriptionId")
                        .HasColumnType("int");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("RubricCriterionLevelId");

                    b.HasIndex("ResultDescriptionId");

                    b.ToTable("RubricCriterionLevels", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.VerificationModel", b =>
                {
                    b.Property<int>("VerificationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("VerificationId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<string>("AllowedOrigins")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "allowedOrigins");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Creator")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "creator");

                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("StartsWith")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "startsWith");

                    b.Property<int>("Type")
                        .HasColumnType("int")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<string>("VerificationProperty")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "verificationProperty");

                    b.HasKey("VerificationId");

                    b.ToTable("Verifications", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrModel", b =>
                {
                    b.Property<int>("ClrId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("ClrId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<int>("AssertionsCount")
                        .HasColumnType("int");

                    b.Property<string>("AuthorizationForeignKey")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Context")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "@context");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("CredentialPackageId")
                        .HasColumnType("int");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime>("IssuedOn")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "issuedOn");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("LearnerId")
                        .HasColumnType("int");

                    b.Property<string>("LearnerName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<int?>("ParentClrSetId")
                        .HasColumnType("int");

                    b.Property<int?>("ParentCredentialPackageId")
                        .HasColumnType("int");

                    b.Property<int?>("ParentVerifiableCredentialId")
                        .HasColumnType("int");

                    b.Property<bool?>("Partial")
                        .HasColumnType("bit")
                        .HasAnnotation("Relational:JsonPropertyName", "partial");

                    b.Property<int>("PublisherId")
                        .HasColumnType("int");

                    b.Property<string>("PublisherName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("RefreshedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RevocationReason")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "revocationReason");

                    b.Property<bool?>("Revoked")
                        .HasColumnType("bit")
                        .HasAnnotation("Relational:JsonPropertyName", "revoked");

                    b.Property<string>("SignedClr")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<int?>("VerificationId")
                        .HasColumnType("int");

                    b.HasKey("ClrId");

                    b.HasIndex("AuthorizationForeignKey");

                    b.HasIndex("CredentialPackageId");

                    b.HasIndex("LearnerId");

                    b.HasIndex("ParentClrSetId");

                    b.HasIndex("ParentCredentialPackageId")
                        .IsUnique()
                        .HasFilter("[ParentCredentialPackageId] IS NOT NULL");

                    b.HasIndex("ParentVerifiableCredentialId");

                    b.HasIndex("PublisherId");

                    b.HasIndex("VerificationId");

                    b.ToTable("Clrs", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrSetModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("ClrsCount")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Identifier")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ParentCredentialPackageId")
                        .HasColumnType("int");

                    b.Property<int?>("ParentVerifiableCredentialId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("ParentCredentialPackageId")
                        .IsUnique()
                        .HasFilter("[ParentCredentialPackageId] IS NOT NULL");

                    b.HasIndex("ParentVerifiableCredentialId");

                    b.ToTable("ClrSets", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Commerce.ETSCreditTransaction", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("AdjustmentUserId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("CommerceTransactionId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CredentialRequestId")
                        .HasColumnType("int");

                    b.Property<bool>("IsAdjustment")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDebit")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ShareId")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("CommerceTransactionId");

                    b.HasIndex("CredentialRequestId");

                    b.HasIndex("ShareId");

                    b.ToTable("ETSCreditTransactions");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ConnectionRequestModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<Guid?>("AgentContextId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ConnectionRequestStep")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ThreadId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<int?>("WalletRelationshipId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("AgentContextId");

                    b.HasIndex("ThreadId")
                        .IsUnique()
                        .HasFilter("[ThreadId] IS NOT NULL");

                    b.HasIndex("UserId");

                    b.HasIndex("WalletRelationshipId");

                    b.ToTable("ConnectionRequests");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ConnectionRequestStep", b =>
                {
                    b.Property<int>("Id")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("ConnectionRequestSteps");

                    b.HasData(
                        new
                        {
                            Id = 0,
                            Name = "Initiated"
                        },
                        new
                        {
                            Id = 1,
                            Name = "PendingAgent"
                        },
                        new
                        {
                            Id = 2,
                            Name = "StartingInvitation"
                        },
                        new
                        {
                            Id = 3,
                            Name = "RequestingInvitation"
                        },
                        new
                        {
                            Id = 4,
                            Name = "InvitationGenerated"
                        },
                        new
                        {
                            Id = 5,
                            Name = "InvitationAccepted"
                        },
                        new
                        {
                            Id = 6,
                            Name = "InvitationCompleted"
                        },
                        new
                        {
                            Id = 13,
                            Name = "Error"
                        });
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialDefinition", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<Guid>("AgentContextId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTimeOffset>("CreatedOn")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("CredentialDefinitionId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("CredentialSchemaId")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTimeOffset?>("ModifiedOn")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("StatusId")
                        .HasColumnType("int");

                    b.Property<string>("Tag")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ThreadId")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("AgentContextId");

                    b.HasIndex("CredentialSchemaId");

                    b.ToTable("CredentialDefinitions");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialPackageModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("AssertionsCount")
                        .HasColumnType("int");

                    b.Property<string>("AuthorizationForeignKey")
                        .HasMaxLength(450)
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ETSResultsCandidateId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("HasPraxisTest")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RevocationReason")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("Revoked")
                        .HasColumnType("bit");

                    b.Property<int?>("ScoreReportId")
                        .HasColumnType("int");

                    b.Property<int>("TypeId")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("AuthorizationForeignKey");

                    b.HasIndex("ScoreReportId");

                    b.HasIndex("UserId");

                    b.ToTable("CredentialPackages", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialRequestModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<Guid?>("AgentContextId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CredentialDefinitionId")
                        .HasColumnType("int");

                    b.Property<int>("CredentialPackageId")
                        .HasColumnType("int");

                    b.Property<int>("CredentialRequestStep")
                        .HasColumnType("int");

                    b.Property<int?>("CredentialSchemaId")
                        .HasColumnType("int");

                    b.Property<string>("ErrorMessage")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ThreadId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("WalletRelationshipId")
                        .HasColumnType("int");

                    b.Property<int?>("WalletRelationshipModelId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("AgentContextId");

                    b.HasIndex("CredentialDefinitionId");

                    b.HasIndex("CredentialPackageId");

                    b.HasIndex("CredentialSchemaId");

                    b.HasIndex("UserId");

                    b.HasIndex("WalletRelationshipId");

                    b.HasIndex("WalletRelationshipModelId");

                    b.ToTable("CredentialRequests", (string)null);
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialRequestStep", b =>
                {
                    b.Property<int>("Id")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("CredentialRequestSteps");

                    b.HasData(
                        new
                        {
                            Id = 0,
                            Name = "Initiated"
                        },
                        new
                        {
                            Id = 1,
                            Name = "PendingAgent"
                        },
                        new
                        {
                            Id = 2,
                            Name = "PendingSchema"
                        },
                        new
                        {
                            Id = 3,
                            Name = "PendingCredentialDefinition"
                        },
                        new
                        {
                            Id = 4,
                            Name = "ReadyToSend"
                        },
                        new
                        {
                            Id = 5,
                            Name = "SendingOffer"
                        },
                        new
                        {
                            Id = 6,
                            Name = "OfferSent"
                        },
                        new
                        {
                            Id = 7,
                            Name = "OfferAccepted"
                        },
                        new
                        {
                            Id = 8,
                            Name = "CheckingRevocationStatus"
                        },
                        new
                        {
                            Id = 9,
                            Name = "CredentialIsRevoked"
                        },
                        new
                        {
                            Id = 10,
                            Name = "CredentialIsStillValid"
                        },
                        new
                        {
                            Id = 11,
                            Name = "PendingSchemaEndorsement"
                        },
                        new
                        {
                            Id = 12,
                            Name = "PendingCredentialDefinitionEndorsement"
                        },
                        new
                        {
                            Id = 13,
                            Name = "Error"
                        },
                        new
                        {
                            Id = 14,
                            Name = "ErrorWritingSchema"
                        },
                        new
                        {
                            Id = 15,
                            Name = "ErrorWritingCredentialDefinition"
                        });
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialSchema", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Attributes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Hash")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("NetworkId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SchemaId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("StatusId")
                        .HasColumnType("int");

                    b.Property<string>("ThreadId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TypeName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Version")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("CredentialSchema");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialSubjectModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("ParentVerifiableCredentialId")
                        .HasColumnType("int");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("ParentVerifiableCredentialId");

                    b.HasIndex("UserId");

                    b.ToTable("CredentialSubjects", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.DIDModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("DID")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int>("KeyTypeId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Payload")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Seed")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("TypeId")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("DIDs", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.DiscoveryDocumentModel", b =>
                {
                    b.Property<int>("DiscoveryDocumentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("DiscoveryDocumentId"));

                    b.Property<string>("ApiBase")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("AuthorizationUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "authorizationUrl");

                    b.Property<string>("Context")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "@context");

                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Image")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "image");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<string>("PrivacyPolicyUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "privacyPolicyUrl");

                    b.Property<string>("RegistrationUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "registrationUrl");

                    b.Property<string>("ScopesOffered")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "scopesOffered");

                    b.Property<int>("SourceForeignKey")
                        .HasColumnType("int");

                    b.Property<string>("TermsOfServiceUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "termsOfServiceUrl");

                    b.Property<string>("TokenRevocationUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("TokenUrl")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "tokenUrl");

                    b.Property<string>("Version")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("DiscoveryDocumentId");

                    b.HasIndex("SourceForeignKey")
                        .IsUnique();

                    b.ToTable("DiscoveryDocumentModel", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.ApplicationSetting", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("ApplicationSettings");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Candidate", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Address")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Aiorg")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("City")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Dob")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Ethnicity")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("FirstName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Gender")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("GraduateMajor")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("HighestEducationAttained")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTimeOffset?>("LastCheckedDate")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("LastName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("MiddleName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("ReportDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("Ssn")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SsnHashed")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SsnLastFour")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("State")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("StatusId")
                        .HasColumnType("int");

                    b.Property<string>("UndergraduateGpa")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UndergraduateMajor")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Zipcode")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("StatusId");

                    b.HasIndex("UserId");

                    b.ToTable("Candidates");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.CandidateVerification", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("CandidateId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTimeOffset>("Created")
                        .HasColumnType("datetimeoffset");

                    b.Property<bool>("Passed")
                        .HasColumnType("bit");

                    b.Property<bool>("SsnAvailable")
                        .HasColumnType("bit");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTimeOffset?>("VerificationSubmitted")
                        .HasColumnType("datetimeoffset");

                    b.Property<bool>("VerifiedAddress")
                        .HasColumnType("bit");

                    b.Property<bool>("VerifiedDob")
                        .HasColumnType("bit");

                    b.Property<bool>("VerifiedName")
                        .HasColumnType("bit");

                    b.Property<bool>("VerifiedSsn")
                        .HasColumnType("bit");

                    b.HasKey("Id");

                    b.HasIndex("CandidateId")
                        .IsUnique()
                        .HasFilter("[CandidateId] IS NOT NULL");

                    b.HasIndex("UserId");

                    b.ToTable("CandidateVerifications");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.GivenName", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("GivenNames");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Key", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTimeOffset>("CreateDate")
                        .HasColumnType("datetimeoffset");

                    b.Property<bool>("IsUsable")
                        .HasColumnType("bit");

                    b.Property<int>("KeyNumber")
                        .HasColumnType("int");

                    b.Property<byte>("KeyTypeId")
                        .HasColumnType("tinyint");

                    b.Property<byte[]>("Private")
                        .HasColumnType("varbinary(max)");

                    b.Property<byte[]>("Public")
                        .HasColumnType("varbinary(max)");

                    b.HasKey("Id");

                    b.ToTable("Keys");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.NameVerification", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("Correct")
                        .HasColumnType("bit");

                    b.Property<string>("GivenName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Surname")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("VerificationId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("VerificationId");

                    b.ToTable("NameVerifications");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.ScoreReport", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Body")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset>("CreatedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<DateTimeOffset>("ModifiedAt")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Program")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ReportDate")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("ScoreReports");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.ScoreReportCandidate", b =>
                {
                    b.Property<int>("ScoreReportId")
                        .HasColumnType("int");

                    b.Property<string>("CandidateId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("ScoreReportId", "CandidateId")
                        .HasName("PK_ScoreReportsCandidates");

                    b.ToTable("ScoreReportsCandidates");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.StreetAddress", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("StreetAddresses");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.StreetAddressVerification", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<bool>("Correct")
                        .HasColumnType("bit");

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("VerificationId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("VerificationId");

                    b.ToTable("StreetAddressVerifications");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Surname", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("Surnames");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Test", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("CandidateId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("MinimumScoreMetNotMet")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("PassingStatusAsOfReportDate")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ReportDate")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequiredMinimumScore")
                        .HasColumnType("nvarchar(max)");

                    b.Property<short?>("RequiredScoreAsOfReportDate")
                        .HasColumnType("smallint");

                    b.Property<string>("Roe")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Rvsd")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ScoreReportId")
                        .HasColumnType("int");

                    b.Property<string>("TestCode")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("TestDate")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("TestName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<short?>("TestScore")
                        .HasColumnType("smallint");

                    b.Property<string>("TestType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Test_Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("ScoreReportId");

                    b.HasIndex("CandidateId", "TestCode", "TestDate")
                        .IsUnique()
                        .HasDatabaseName("UIX_Test")
                        .HasFilter("[CandidateId] IS NOT NULL AND [TestCode] IS NOT NULL AND [TestDate] IS NOT NULL");

                    b.ToTable("Tests");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.TestCategory", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("AvgPerformanceRange")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Category")
                        .HasColumnType("nvarchar(max)");

                    b.Property<short>("PointsAvailable")
                        .HasColumnType("smallint");

                    b.Property<short>("PointsEarned")
                        .HasColumnType("smallint");

                    b.Property<string>("TestCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("TestId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("TestId");

                    b.ToTable("TestCategories");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserAddress", b =>
                {
                    b.Property<int>("AddressId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("AddressId"));

                    b.Property<string>("AddressLine1")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("AddressLine2")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("City")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Country")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset>("Created")
                        .HasColumnType("datetimeoffset");

                    b.Property<DateTimeOffset?>("Modified")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("PostalCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("State")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("AddressId");

                    b.HasIndex("UserId");

                    b.ToTable("UserAddresses");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserCredit", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTimeOffset>("Created")
                        .HasColumnType("datetimeoffset");

                    b.Property<DateTimeOffset?>("Modified")
                        .HasColumnType("datetimeoffset");

                    b.Property<int>("PaymentRequestId")
                        .HasColumnType("int");

                    b.Property<int>("StatusId")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("PaymentRequestId");

                    b.HasIndex("StatusId");

                    b.HasIndex("UserId");

                    b.ToTable("UserCredits");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserEmail", b =>
                {
                    b.Property<int>("EmailId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("EmailId"));

                    b.Property<DateTimeOffset>("Created")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("EmailAddress")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset?>("Modified")
                        .HasColumnType("datetimeoffset");

                    b.Property<bool>("SendEmail")
                        .HasColumnType("bit");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("EmailId");

                    b.HasIndex("UserId");

                    b.ToTable("UserEmails");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserPaymentRequest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int?>("ActualCredits")
                        .HasColumnType("int");

                    b.Property<DateTimeOffset>("Created")
                        .HasColumnType("datetimeoffset");

                    b.Property<DateTimeOffset?>("Modified")
                        .HasColumnType("datetimeoffset");

                    b.Property<int>("ProjectedCredits")
                        .HasColumnType("int");

                    b.Property<string>("RequestId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("StatusId")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("StatusId");

                    b.HasIndex("UserId");

                    b.ToTable("UserPaymentRequests");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserPhone", b =>
                {
                    b.Property<int>("PhoneId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("PhoneId"));

                    b.Property<DateTimeOffset>("Created")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("Extension")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset?>("Modified")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("PhoneNumber")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("PhoneId");

                    b.HasIndex("UserId");

                    b.ToTable("UserPhoneNumbers");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.EmailVerification", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("EmailAddress")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("EmailVerificationCredentialQrCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<int?>("MessageId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("OfferContents")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OfferId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("OfferPayload")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTimeOffset>("ValidUntil")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("VerificationString")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("MessageId");

                    b.HasIndex("UserId");

                    b.ToTable("EmailVerifications");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.EndorsementModel", b =>
                {
                    b.Property<int>("EndorsementId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("EndorsementId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("EndorsementClaimId")
                        .HasColumnType("int");

                    b.Property<string>("Id")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<bool>("IsSigned")
                        .HasColumnType("bit");

                    b.Property<DateTime>("IssuedOn")
                        .HasColumnType("datetime2")
                        .HasAnnotation("Relational:JsonPropertyName", "issuedOn");

                    b.Property<int>("IssuerId")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RevocationReason")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "revocationReason");

                    b.Property<bool?>("Revoked")
                        .HasColumnType("bit")
                        .HasAnnotation("Relational:JsonPropertyName", "revoked");

                    b.Property<string>("SignedEndorsement")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "signedEndorsement");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.Property<int>("VerificationId")
                        .HasColumnType("int");

                    b.HasKey("EndorsementId");

                    b.HasIndex("EndorsementClaimId")
                        .IsUnique();

                    b.HasIndex("IssuerId");

                    b.HasIndex("VerificationId")
                        .IsUnique();

                    b.ToTable("Endorsements", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.EvidenceModel", b =>
                {
                    b.Property<int>("EvidenceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("EvidenceId"));

                    b.Property<string>("AdditionalProperties")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "additionalProperties");

                    b.Property<string>("Audience")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "audience");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "description");

                    b.Property<string>("Genre")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "genre");

                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "id");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "name");

                    b.Property<string>("Narrative")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "narrative");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "type");

                    b.HasKey("EvidenceId");

                    b.ToTable("Evidence", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.HttpClientLog", b =>
                {
                    b.Property<int>("HttpClientLogId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("HttpClientLogId"));

                    b.Property<string>("Machine")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestContentBody")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestContentType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestHeaders")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestIpAddress")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestMethod")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestRouteData")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RequestRouteTemplate")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("RequestTimestamp")
                        .HasColumnType("datetime2");

                    b.Property<string>("RequestUri")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ResponseContentBody")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ResponseContentType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ResponseHeaders")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("ResponseStatusCode")
                        .HasColumnType("int");

                    b.Property<DateTime?>("ResponseTimestamp")
                        .HasColumnType("datetime2");

                    b.Property<string>("User")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("HttpClientLogId");

                    b.ToTable("HttpClientLogs");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Idatafy.SmartResume", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("ClrId")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("HasError")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<bool>("IsReady")
                        .HasColumnType("bit");

                    b.Property<string>("Message")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("SmartResumeUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UploadName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("ClrId")
                        .IsUnique();

                    b.HasIndex("UserId");

                    b.ToTable("SmartResumes", "idatafy");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.IdentityCertificateModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Certificate")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("DnsName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Password")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTimeOffset>("ValidUntil")
                        .HasColumnType("datetimeoffset");

                    b.HasKey("Id");

                    b.ToTable("IdentityCertificates");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.LoginProofRequest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("EmailAddress")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ProofAttributeId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ProofContent")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ProofId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ProofPayload")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ProofRequestStatus")
                        .HasColumnType("int");

                    b.Property<string>("ProofResponse")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("PublicId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("QrCodeUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("State")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTimeOffset>("ValidUntil")
                        .HasColumnType("datetimeoffset");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("LoginProofRequests");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.MessageModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Body")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "body");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("ProofRequestId")
                        .HasColumnType("int");

                    b.Property<string>("Recipient")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "recipient");

                    b.Property<int>("SendAttempts")
                        .HasColumnType("int");

                    b.Property<int?>("ShareId")
                        .HasColumnType("int");

                    b.Property<int>("StatusId")
                        .HasColumnType("int");

                    b.Property<string>("Subject")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "subject");

                    b.HasKey("Id");

                    b.HasIndex("ProofRequestId");

                    b.HasIndex("ShareId");

                    b.ToTable("Messages");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProofRequest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("CredentialSchemaId")
                        .HasColumnType("int");

                    b.Property<string>("DisclosureId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ForRelationship")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("InvitationId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("InvitationLink")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("InvitationQrCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Network")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("NotificationAddress")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ProofAttributes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ProofPredicates")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("PublicId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ShortInvitationLink")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("StepId")
                        .HasColumnType("int");

                    b.Property<string>("ThreadId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("CredentialSchemaId");

                    b.HasIndex("UserId");

                    b.ToTable("ProofRequests");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProofRequestStep", b =>
                {
                    b.Property<int>("Id")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("ProofRequestSteps");

                    b.HasData(
                        new
                        {
                            Id = 1,
                            Name = "Created"
                        },
                        new
                        {
                            Id = 2,
                            Name = "WaitingForAgentContext"
                        },
                        new
                        {
                            Id = 3,
                            Name = "InvitationLinkRequested"
                        },
                        new
                        {
                            Id = 4,
                            Name = "InvitationLinkReceived"
                        },
                        new
                        {
                            Id = 5,
                            Name = "ProofReceived"
                        },
                        new
                        {
                            Id = 6,
                            Name = "RequestedRelationship"
                        },
                        new
                        {
                            Id = 7,
                            Name = "CreatedRelationship"
                        },
                        new
                        {
                            Id = 8,
                            Name = "ReceivingProofResponse"
                        },
                        new
                        {
                            Id = 9,
                            Name = "Deleted"
                        });
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProofResponse", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Identifiers")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Predicates")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ProofRequestId")
                        .HasColumnType("int");

                    b.Property<string>("ProofResponseJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ProofResultId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RevealedAttributes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SelfAttestedAttributes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UnrevealedAttributes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("VerificationResult")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("ProofRequestId")
                        .IsUnique();

                    b.ToTable("ProofResponses");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProvisioningTokenModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<Guid>("AgentContextId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Nonce")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "nonce");

                    b.Property<string>("Sig")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "sig");

                    b.Property<string>("SponseeId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "sponseeId");

                    b.Property<string>("SponsorId")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "sponsorId");

                    b.Property<string>("SponsorVerKey")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "sponsorVerKey");

                    b.Property<string>("Timestamp")
                        .HasColumnType("nvarchar(max)")
                        .HasAnnotation("Relational:JsonPropertyName", "timestamp");

                    b.HasKey("Id");

                    b.HasIndex("AgentContextId")
                        .IsUnique();

                    b.ToTable("ProvisioningToken");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.RecipientModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("Recipients");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.RevocationModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("IssuerId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RevocationListId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RevokedId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("SourceId")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("SourceId");

                    b.HasIndex("UserId");

                    b.ToTable("Revocations");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ShareModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("AccessKey")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ClrForeignKey")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int?>("CredentialRequestId")
                        .HasColumnType("int");

                    b.Property<int>("DisplayCount")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<string>("LinkId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Nickname")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("RecipientId")
                        .HasColumnType("int");

                    b.Property<int>("ShareTypeId")
                        .HasColumnType("int");

                    b.Property<int>("StatusId")
                        .HasColumnType("int");

                    b.Property<string>("Subject")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UniqueExternalId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("UseCount")
                        .HasColumnType("int");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("ClrForeignKey");

                    b.HasIndex("CredentialRequestId");

                    b.HasIndex("RecipientId");

                    b.HasIndex("StatusId");

                    b.HasIndex("UserId");

                    b.ToTable("Shares");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ShareTypeModel", b =>
                {
                    b.Property<int>("Id")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("ShareTypes");

                    b.HasData(
                        new
                        {
                            Id = 1,
                            Name = "Email"
                        },
                        new
                        {
                            Id = 2,
                            Name = "Pdf"
                        },
                        new
                        {
                            Id = 3,
                            Name = "Wallet"
                        });
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.SourceModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("ClientId")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ClientSecret")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsDeletable")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Scope")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("SourceTypeId")
                        .HasColumnType("int");

                    b.Property<string>("Url")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("Sources");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.StatusModel", b =>
                {
                    b.Property<int>("Id")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("Statuses");

                    b.HasData(
                        new
                        {
                            Id = 1,
                            Name = "Pending"
                        },
                        new
                        {
                            Id = 2,
                            Name = "Accepted"
                        },
                        new
                        {
                            Id = 3,
                            Name = "Used"
                        },
                        new
                        {
                            Id = 4,
                            Name = "Expired"
                        },
                        new
                        {
                            Id = 5,
                            Name = "Rejected"
                        },
                        new
                        {
                            Id = 6,
                            Name = "Created"
                        },
                        new
                        {
                            Id = 7,
                            Name = "Deleted"
                        },
                        new
                        {
                            Id = 8,
                            Name = "Visible"
                        },
                        new
                        {
                            Id = 9,
                            Name = "Hidden"
                        },
                        new
                        {
                            Id = 10,
                            Name = "Submitted"
                        },
                        new
                        {
                            Id = 11,
                            Name = "Active"
                        },
                        new
                        {
                            Id = 12,
                            Name = "Sent"
                        },
                        new
                        {
                            Id = 13,
                            Name = "Error"
                        },
                        new
                        {
                            Id = 14,
                            Name = "WaitingForScoreReport"
                        },
                        new
                        {
                            Id = 15,
                            Name = "ReadyForVerification"
                        },
                        new
                        {
                            Id = 16,
                            Name = "Verified"
                        },
                        new
                        {
                            Id = 17,
                            Name = "Unused"
                        },
                        new
                        {
                            Id = 18,
                            Name = "Success"
                        },
                        new
                        {
                            Id = 19,
                            Name = "NeedsEndorsement"
                        },
                        new
                        {
                            Id = 20,
                            Name = "Read"
                        },
                        new
                        {
                            Id = 21,
                            Name = "Unread"
                        });
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.VerifiableCredentialModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("CredentialsCount")
                        .HasColumnType("int");

                    b.Property<string>("Identifier")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime>("IssuedOn")
                        .HasColumnType("datetime2");

                    b.Property<string>("Issuer")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Json")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("ParentCredentialPackageId")
                        .HasColumnType("int");

                    b.Property<string>("RevocationReason")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("Revoked")
                        .HasColumnType("bit");

                    b.Property<string>("Types")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("ParentCredentialPackageId")
                        .IsUnique();

                    b.ToTable("VerifiableCredentials", "cred");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.VerityThread", b =>
                {
                    b.Property<string>("ThreadId")
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("FlowTypeId")
                        .HasColumnType("int");

                    b.HasKey("ThreadId");

                    b.ToTable("VerityThreads");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.WalletRelationshipModel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<Guid>("AgentContextId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("InviteUrl")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsConnected")
                        .HasColumnType("bit");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("ModifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RelationshipDid")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("RelationshipVerKey")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("WalletName")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("AgentContextId");

                    b.HasIndex("UserId");

                    b.ToTable("WalletRelationships");
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<string>", b =>
                {
                    b.HasOne("Microsoft.AspNetCore.Identity.IdentityRole", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<string>", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<string>", b =>
                {
                    b.HasOne("Microsoft.AspNetCore.Identity.IdentityRole", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<string>", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.Models.CredentialOffer", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrModel", "Clr")
                        .WithMany()
                        .HasForeignKey("ClrId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialDefinition", "CredentialDefinition")
                        .WithMany()
                        .HasForeignKey("CredentialDefinitionId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialSchema", "CredentialSchema")
                        .WithMany()
                        .HasForeignKey("CredentialSchemaId");

                    b.HasOne("OpenCredentialPublisher.Data.Custom.Models.ShareRequest", "ShareRequest")
                        .WithMany("CredentialOffers")
                        .HasForeignKey("ShareRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Clr");

                    b.Navigation("CredentialDefinition");

                    b.Navigation("CredentialSchema");

                    b.Navigation("ShareRequest");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.Models.ShareRequest", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialPackageModel", "CredentialPackage")
                        .WithMany()
                        .HasForeignKey("CredentialPackageId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("CredentialPackage");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.Achievement", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.Profile", "Creator")
                        .WithMany()
                        .HasForeignKey("CreatorProfileId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.Profile", "Source")
                        .WithMany()
                        .HasForeignKey("SourceProfileId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.VerifiableCredential", "VerifiableCredential")
                        .WithOne("Achievement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Custom.EFModels.Achievement", "VerifiableCredentialId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Creator");

                    b.Navigation("Source");

                    b.Navigation("VerifiableCredential");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.AchievementAlignment", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.Achievement", "Achievement")
                        .WithMany("Alignments")
                        .HasForeignKey("AchievementId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Achievement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.AchievementIdentity", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.Achievement", "Achievement")
                        .WithOne("Identifier")
                        .HasForeignKey("OpenCredentialPublisher.Data.Custom.EFModels.AchievementIdentity", "AchievementId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Achievement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialCollection", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialCollectionVerifiableCredential", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.CredentialCollection", "CredentialCollection")
                        .WithMany("CredentialCollectionVerifiableCredentials")
                        .HasForeignKey("CredentialCollectionId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.VerifiableCredential", "VerifiableCredential")
                        .WithMany("CredentialCollectionVerifiableCredentials")
                        .HasForeignKey("VerifiableCredentialId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("CredentialCollection");

                    b.Navigation("VerifiableCredential");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialPackage", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.Notification", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackageAchievementType", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackage", null)
                        .WithMany("AchievementTypes")
                        .HasForeignKey("CredentialPackageId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackageIssuer", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackage", null)
                        .WithMany("Issuers")
                        .HasForeignKey("CredentialPackageId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.VerifiableCredential", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.CredentialPackage", "CredentialPackage")
                        .WithMany("VerifiableCredentials")
                        .HasForeignKey("CredentialPackageId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.Profile", "IssuerProfile")
                        .WithMany()
                        .HasForeignKey("IssuerProfileId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Custom.EFModels.VerifiableCredential", "ParentVerifiableCredential")
                        .WithMany()
                        .HasForeignKey("ParentVerifiableCredentialId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("CredentialPackage");

                    b.Navigation("IssuerProfile");

                    b.Navigation("ParentVerifiableCredential");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AchievementModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.CriteriaModel", "Requirement")
                        .WithOne("Achievement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.AchievementModel", "CriteriaId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "Issuer")
                        .WithMany()
                        .HasForeignKey("IssuerProfileId");

                    b.Navigation("Issuer");

                    b.Navigation("Requirement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ArtifactModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrModel", null)
                        .WithMany("Artifacts")
                        .HasForeignKey("ClrId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AssertionModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AchievementModel", "Achievement")
                        .WithOne("Assertion")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.AssertionModel", "AchievementId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.AssertionModel", "ParentAssertion")
                        .WithMany("ChildAssertions")
                        .HasForeignKey("ParentAssertionId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.IdentityModel", "Recipient")
                        .WithOne("Assertion")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.AssertionModel", "RecipientId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "Source")
                        .WithMany()
                        .HasForeignKey("SourceId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.VerificationModel", "Verification")
                        .WithOne("Assertion")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.AssertionModel", "VerificationId");

                    b.Navigation("Achievement");

                    b.Navigation("ParentAssertion");

                    b.Navigation("Recipient");

                    b.Navigation("Source");

                    b.Navigation("Verification");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AuthorizationModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.SourceModel", "Source")
                        .WithMany("Authorizations")
                        .HasForeignKey("SourceForeignKey")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("Source");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Badgr.BadgrAssertionModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.Badgr.BadgrBackpackModel", "BadgrBackpack")
                        .WithMany("BadgrAssertions")
                        .HasForeignKey("BadgrBackpackId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.Badgr.BadgrImageDType", "ImageObject")
                        .WithMany()
                        .HasForeignKey("ImageObjectId");

                    b.Navigation("BadgrBackpack");

                    b.Navigation("ImageObject");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Badgr.BadgrBackpackModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialPackageModel", "ParentCredentialPackage")
                        .WithOne("BadgrBackpack")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.Badgr.BadgrBackpackModel", "ParentCredentialPackageId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.Navigation("ParentCredentialPackage");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "ParentOrg")
                        .WithMany("ChildrenOrgs")
                        .HasForeignKey("ParentProfileId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.VerificationModel", "Verification")
                        .WithOne("Profile")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "VerificationId");

                    b.Navigation("ParentOrg");

                    b.Navigation("Verification");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementAlignment", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AchievementModel", "Achievement")
                        .WithMany("AchievementAlignments")
                        .HasForeignKey("AchievementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.AlignmentModel", "Alignment")
                        .WithOne("AchievementAlignment")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementAlignment", "AlignmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Achievement");

                    b.Navigation("Alignment");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementAssociation", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AchievementModel", "Achievement")
                        .WithMany("AchievementAssociations")
                        .HasForeignKey("AchievementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.AssociationModel", "Association")
                        .WithOne("AchievementAssociation")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementAssociation", "AssociationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Achievement");

                    b.Navigation("Association");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementEndorsement", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AchievementModel", "Achievement")
                        .WithMany("AchievementEndorsements")
                        .HasForeignKey("AchievementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.EndorsementModel", "Endorsement")
                        .WithOne("AchievementEndorsement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AchievementEndorsement", "EndorsementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Achievement");

                    b.Navigation("Endorsement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AssertionEndorsement", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AssertionModel", "Assertion")
                        .WithMany("AssertionEndorsements")
                        .HasForeignKey("AssertionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.EndorsementModel", "Endorsement")
                        .WithOne("AssertionEndorsement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AssertionEndorsement", "EndorsementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Assertion");

                    b.Navigation("Endorsement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AssertionEvidence", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AssertionModel", "Assertion")
                        .WithMany("AssertionEvidences")
                        .HasForeignKey("AssertionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.EvidenceModel", "Evidence")
                        .WithOne("AssertionEvidence")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.AssertionEvidence", "EvidenceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Assertion");

                    b.Navigation("Evidence");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrAchievement", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AchievementModel", "Achievement")
                        .WithOne("ClrAchievement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrAchievement", "AchievementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrModel", null)
                        .WithMany("ClrAchievements")
                        .HasForeignKey("ClrId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Achievement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrAssertion", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AssertionModel", "Assertion")
                        .WithOne("ClrAssertion")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrAssertion", "AssertionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrModel", null)
                        .WithMany("ClrAssertions")
                        .HasForeignKey("ClrId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Assertion");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrEndorsement", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrModel", null)
                        .WithMany("ClrEndorsements")
                        .HasForeignKey("ClrId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.EndorsementModel", "Endorsement")
                        .WithOne("ClrEndorsement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ClrEndorsement", "EndorsementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Endorsement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.EvidenceArtifact", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ArtifactModel", "Artifact")
                        .WithOne("EvidenceArtifact")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.EvidenceArtifact", "ArtifactId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.EvidenceModel", "Evidence")
                        .WithMany("EvidenceArtifacts")
                        .HasForeignKey("EvidenceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Artifact");

                    b.Navigation("Evidence");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ProfileEndorsement", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.EndorsementModel", "Endorsement")
                        .WithOne("ProfileEndorsement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ProfileEndorsement", "EndorsementId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "Profile")
                        .WithMany("ProfileEndorsements")
                        .HasForeignKey("ProfileId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.Navigation("Endorsement");

                    b.Navigation("Profile");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ResultAlignment", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.AlignmentModel", "Alignment")
                        .WithOne("ResultAlignment")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ResultAlignment", "AlignmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ResultModel", "Result")
                        .WithMany("ResultAlignments")
                        .HasForeignKey("ResultId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Alignment");

                    b.Navigation("Result");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ResultDescriptionAlignment", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.AlignmentModel", "Alignment")
                        .WithOne("ResultDescriptionAlignment")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.ResultDescriptionAlignment", "AlignmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ResultDescriptionModel", "ResultDescription")
                        .WithMany("ResultDescriptionAlignments")
                        .HasForeignKey("ResultDescriptionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Alignment");

                    b.Navigation("ResultDescription");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.RubricCriterionLevelAlignment", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.AlignmentModel", "Alignment")
                        .WithOne("RubricCriterionLevelAlignment")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrEntities.Relationships.RubricCriterionLevelAlignment", "AlignmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.RubricCriterionLevelModel", "RubricCriterionLevel")
                        .WithMany("RubricCriterionLevelAlignments")
                        .HasForeignKey("RubricCriterionLevelId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Alignment");

                    b.Navigation("RubricCriterionLevel");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ResultDescriptionModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AchievementModel", "Achievement")
                        .WithMany("ResultDescriptions")
                        .HasForeignKey("AchievementId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Achievement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ResultModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AssertionModel", "Assertion")
                        .WithMany("Results")
                        .HasForeignKey("AssertionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Assertion");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.RubricCriterionLevelModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ResultDescriptionModel", "ResultDescription")
                        .WithMany("RubricCriterionLevels")
                        .HasForeignKey("ResultDescriptionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ResultDescription");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AuthorizationModel", "Authorization")
                        .WithMany()
                        .HasForeignKey("AuthorizationForeignKey");

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialPackageModel", "CredentialPackage")
                        .WithMany("ContainedClrs")
                        .HasForeignKey("CredentialPackageId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "Learner")
                        .WithMany()
                        .HasForeignKey("LearnerId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrSetModel", "ParentClrSet")
                        .WithMany("Clrs")
                        .HasForeignKey("ParentClrSetId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialPackageModel", "ParentCredentialPackage")
                        .WithOne("Clr")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrModel", "ParentCredentialPackageId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.VerifiableCredentialModel", "ParentVerifiableCredential")
                        .WithMany("Clrs")
                        .HasForeignKey("ParentVerifiableCredentialId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "Publisher")
                        .WithMany()
                        .HasForeignKey("PublisherId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.VerificationModel", "Verification")
                        .WithMany()
                        .HasForeignKey("VerificationId");

                    b.Navigation("Authorization");

                    b.Navigation("CredentialPackage");

                    b.Navigation("Learner");

                    b.Navigation("ParentClrSet");

                    b.Navigation("ParentCredentialPackage");

                    b.Navigation("ParentVerifiableCredential");

                    b.Navigation("Publisher");

                    b.Navigation("Verification");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrSetModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialPackageModel", "ParentCredentialPackage")
                        .WithOne("ClrSet")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ClrSetModel", "ParentCredentialPackageId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("OpenCredentialPublisher.Data.Models.VerifiableCredentialModel", "ParentVerifiableCredential")
                        .WithMany("ClrSets")
                        .HasForeignKey("ParentVerifiableCredentialId");

                    b.Navigation("ParentCredentialPackage");

                    b.Navigation("ParentVerifiableCredential");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Commerce.ETSCreditTransaction", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Custom.Models.Commerce.CommerceTransaction", "CommerceTransaction")
                        .WithMany()
                        .HasForeignKey("CommerceTransactionId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialRequestModel", "CredentialRequest")
                        .WithMany()
                        .HasForeignKey("CredentialRequestId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ShareModel", "Share")
                        .WithMany()
                        .HasForeignKey("ShareId");

                    b.Navigation("CommerceTransaction");

                    b.Navigation("CredentialRequest");

                    b.Navigation("Share");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ConnectionRequestModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AgentContextModel", "AgentContext")
                        .WithMany()
                        .HasForeignKey("AgentContextId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.WalletRelationshipModel", "WalletRelationship")
                        .WithMany()
                        .HasForeignKey("WalletRelationshipId");

                    b.Navigation("AgentContext");

                    b.Navigation("User");

                    b.Navigation("WalletRelationship");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialDefinition", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AgentContextModel", "AgentContext")
                        .WithMany()
                        .HasForeignKey("AgentContextId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialSchema", "CredentialSchema")
                        .WithMany("CredentialDefinitions")
                        .HasForeignKey("CredentialSchemaId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("AgentContext");

                    b.Navigation("CredentialSchema");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialPackageModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AuthorizationModel", "Authorization")
                        .WithMany()
                        .HasForeignKey("AuthorizationForeignKey")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.ScoreReport", "ScoreReport")
                        .WithMany()
                        .HasForeignKey("ScoreReportId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Authorization");

                    b.Navigation("ScoreReport");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialRequestModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AgentContextModel", "AgentContext")
                        .WithMany()
                        .HasForeignKey("AgentContextId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialDefinition", "CredentialDefinition")
                        .WithMany()
                        .HasForeignKey("CredentialDefinitionId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialPackageModel", "CredentialPackage")
                        .WithMany()
                        .HasForeignKey("CredentialPackageId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialSchema", "CredentialSchema")
                        .WithMany()
                        .HasForeignKey("CredentialSchemaId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.WalletRelationshipModel", "WalletRelationship")
                        .WithMany()
                        .HasForeignKey("WalletRelationshipId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.WalletRelationshipModel", null)
                        .WithMany("CredentialRequests")
                        .HasForeignKey("WalletRelationshipModelId");

                    b.Navigation("AgentContext");

                    b.Navigation("CredentialDefinition");

                    b.Navigation("CredentialPackage");

                    b.Navigation("CredentialSchema");

                    b.Navigation("User");

                    b.Navigation("WalletRelationship");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialSubjectModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.VerifiableCredentialModel", "ParentVerifiableCredential")
                        .WithMany("CredentialSubjects")
                        .HasForeignKey("ParentVerifiableCredentialId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.Navigation("ParentVerifiableCredential");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.DiscoveryDocumentModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.SourceModel", null)
                        .WithOne("DiscoveryDocument")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.DiscoveryDocumentModel", "SourceForeignKey")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Candidate", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.StatusModel", null)
                        .WithMany()
                        .HasForeignKey("StatusId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.CandidateVerification", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.Candidate", "Candidate")
                        .WithOne("Verification")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ETS.CandidateVerification", "CandidateId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("Candidate");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.NameVerification", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.CandidateVerification", "Verification")
                        .WithMany("Names")
                        .HasForeignKey("VerificationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Verification");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.ScoreReportCandidate", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.ScoreReport", null)
                        .WithMany("Candidates")
                        .HasForeignKey("ScoreReportId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.StreetAddressVerification", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.CandidateVerification", "Verification")
                        .WithMany("StreetAddresses")
                        .HasForeignKey("VerificationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Verification");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Test", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.Candidate", "Candidate")
                        .WithMany("Tests")
                        .HasForeignKey("CandidateId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.ScoreReport", "ScoreReport")
                        .WithMany()
                        .HasForeignKey("ScoreReportId");

                    b.Navigation("Candidate");

                    b.Navigation("ScoreReport");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.TestCategory", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.Test", null)
                        .WithMany("TestCategories")
                        .HasForeignKey("TestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserAddress", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany("Addresses")
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserCredit", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ETS.UserPaymentRequest", "PaymentRequest")
                        .WithMany("Credits")
                        .HasForeignKey("PaymentRequestId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.StatusModel", null)
                        .WithMany()
                        .HasForeignKey("StatusId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany("Credits")
                        .HasForeignKey("UserId");

                    b.Navigation("PaymentRequest");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserEmail", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany("Emails")
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserPaymentRequest", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.StatusModel", null)
                        .WithMany()
                        .HasForeignKey("StatusId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany("PaymentRequests")
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserPhone", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany("PhoneNumbers")
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.EmailVerification", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.MessageModel", "Message")
                        .WithMany()
                        .HasForeignKey("MessageId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("Message");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.EndorsementModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.EndorsementClaimModel", "EndorsementClaim")
                        .WithOne("Endorsement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.EndorsementModel", "EndorsementClaimId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", "Issuer")
                        .WithMany()
                        .HasForeignKey("IssuerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrEntities.VerificationModel", "Verification")
                        .WithOne("Endorsement")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.EndorsementModel", "VerificationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("EndorsementClaim");

                    b.Navigation("Issuer");

                    b.Navigation("Verification");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Idatafy.SmartResume", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrModel", null)
                        .WithOne("SmartResume")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.Idatafy.SmartResume", "ClrId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.LoginProofRequest", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.MessageModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ProofRequest", "ProofRequest")
                        .WithMany("Messages")
                        .HasForeignKey("ProofRequestId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ShareModel", "Share")
                        .WithMany("Messages")
                        .HasForeignKey("ShareId");

                    b.Navigation("ProofRequest");

                    b.Navigation("Share");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProofRequest", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialSchema", "CredentialSchema")
                        .WithMany()
                        .HasForeignKey("CredentialSchemaId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.Navigation("CredentialSchema");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProofResponse", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ProofRequest", "ProofRequest")
                        .WithOne("ProofResponse")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ProofResponse", "ProofRequestId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.Navigation("ProofRequest");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProvisioningTokenModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AgentContextModel", "AgentContext")
                        .WithOne("ProvisioningToken")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.ProvisioningTokenModel", "AgentContextId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("AgentContext");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.RecipientModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.RevocationModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.SourceModel", "Source")
                        .WithMany()
                        .HasForeignKey("SourceId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Source");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ShareModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.ClrModel", "Clr")
                        .WithMany("Shares")
                        .HasForeignKey("ClrForeignKey")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialRequestModel", "CredentialRequest")
                        .WithMany()
                        .HasForeignKey("CredentialRequestId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.RecipientModel", "Recipient")
                        .WithMany()
                        .HasForeignKey("RecipientId");

                    b.HasOne("OpenCredentialPublisher.Data.Models.StatusModel", null)
                        .WithMany()
                        .HasForeignKey("StatusId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Clr");

                    b.Navigation("CredentialRequest");

                    b.Navigation("Recipient");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.VerifiableCredentialModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.CredentialPackageModel", "ParentCredentialPackage")
                        .WithOne("VerifiableCredential")
                        .HasForeignKey("OpenCredentialPublisher.Data.Models.VerifiableCredentialModel", "ParentCredentialPackageId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.Navigation("ParentCredentialPackage");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.WalletRelationshipModel", b =>
                {
                    b.HasOne("OpenCredentialPublisher.Data.Models.AgentContextModel", "AgentContext")
                        .WithMany()
                        .HasForeignKey("AgentContextId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("OpenCredentialPublisher.Data.Models.ApplicationUser", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("AgentContext");

                    b.Navigation("User");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.Models.ShareRequest", b =>
                {
                    b.Navigation("CredentialOffers");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.Achievement", b =>
                {
                    b.Navigation("Alignments");

                    b.Navigation("Identifier");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialCollection", b =>
                {
                    b.Navigation("CredentialCollectionVerifiableCredentials");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.CredentialPackage", b =>
                {
                    b.Navigation("VerifiableCredentials");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.SearchCredentialPackage", b =>
                {
                    b.Navigation("AchievementTypes");

                    b.Navigation("Issuers");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Custom.EFModels.VerifiableCredential", b =>
                {
                    b.Navigation("Achievement");

                    b.Navigation("CredentialCollectionVerifiableCredentials");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AchievementModel", b =>
                {
                    b.Navigation("AchievementAlignments");

                    b.Navigation("AchievementAssociations");

                    b.Navigation("AchievementEndorsements");

                    b.Navigation("Assertion");

                    b.Navigation("ClrAchievement");

                    b.Navigation("ResultDescriptions");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AgentContextModel", b =>
                {
                    b.Navigation("ProvisioningToken");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ApplicationUser", b =>
                {
                    b.Navigation("Addresses");

                    b.Navigation("Credits");

                    b.Navigation("Emails");

                    b.Navigation("PaymentRequests");

                    b.Navigation("PhoneNumbers");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ArtifactModel", b =>
                {
                    b.Navigation("EvidenceArtifact");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.AssertionModel", b =>
                {
                    b.Navigation("AssertionEndorsements");

                    b.Navigation("AssertionEvidences");

                    b.Navigation("ChildAssertions");

                    b.Navigation("ClrAssertion");

                    b.Navigation("Results");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.Badgr.BadgrBackpackModel", b =>
                {
                    b.Navigation("BadgrAssertions");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.AlignmentModel", b =>
                {
                    b.Navigation("AchievementAlignment");

                    b.Navigation("ResultAlignment");

                    b.Navigation("ResultDescriptionAlignment");

                    b.Navigation("RubricCriterionLevelAlignment");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.AssociationModel", b =>
                {
                    b.Navigation("AchievementAssociation");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.CriteriaModel", b =>
                {
                    b.Navigation("Achievement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.EndorsementClaimModel", b =>
                {
                    b.Navigation("Endorsement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.IdentityModel", b =>
                {
                    b.Navigation("Assertion");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ProfileModel", b =>
                {
                    b.Navigation("ChildrenOrgs");

                    b.Navigation("ProfileEndorsements");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ResultDescriptionModel", b =>
                {
                    b.Navigation("ResultDescriptionAlignments");

                    b.Navigation("RubricCriterionLevels");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.ResultModel", b =>
                {
                    b.Navigation("ResultAlignments");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.RubricCriterionLevelModel", b =>
                {
                    b.Navigation("RubricCriterionLevelAlignments");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrEntities.VerificationModel", b =>
                {
                    b.Navigation("Assertion");

                    b.Navigation("Endorsement");

                    b.Navigation("Profile");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrModel", b =>
                {
                    b.Navigation("Artifacts");

                    b.Navigation("ClrAchievements");

                    b.Navigation("ClrAssertions");

                    b.Navigation("ClrEndorsements");

                    b.Navigation("Shares");

                    b.Navigation("SmartResume");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ClrSetModel", b =>
                {
                    b.Navigation("Clrs");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialPackageModel", b =>
                {
                    b.Navigation("BadgrBackpack");

                    b.Navigation("Clr");

                    b.Navigation("ClrSet");

                    b.Navigation("ContainedClrs");

                    b.Navigation("VerifiableCredential");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.CredentialSchema", b =>
                {
                    b.Navigation("CredentialDefinitions");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Candidate", b =>
                {
                    b.Navigation("Tests");

                    b.Navigation("Verification");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.CandidateVerification", b =>
                {
                    b.Navigation("Names");

                    b.Navigation("StreetAddresses");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.ScoreReport", b =>
                {
                    b.Navigation("Candidates");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.Test", b =>
                {
                    b.Navigation("TestCategories");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ETS.UserPaymentRequest", b =>
                {
                    b.Navigation("Credits");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.EndorsementModel", b =>
                {
                    b.Navigation("AchievementEndorsement");

                    b.Navigation("AssertionEndorsement");

                    b.Navigation("ClrEndorsement");

                    b.Navigation("ProfileEndorsement");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.EvidenceModel", b =>
                {
                    b.Navigation("AssertionEvidence");

                    b.Navigation("EvidenceArtifacts");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ProofRequest", b =>
                {
                    b.Navigation("Messages");

                    b.Navigation("ProofResponse");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.ShareModel", b =>
                {
                    b.Navigation("Messages");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.SourceModel", b =>
                {
                    b.Navigation("Authorizations");

                    b.Navigation("DiscoveryDocument");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.VerifiableCredentialModel", b =>
                {
                    b.Navigation("ClrSets");

                    b.Navigation("Clrs");

                    b.Navigation("CredentialSubjects");
                });

            modelBuilder.Entity("OpenCredentialPublisher.Data.Models.WalletRelationshipModel", b =>
                {
                    b.Navigation("CredentialRequests");
                });
#pragma warning restore 612, 618
        }
    }
}
